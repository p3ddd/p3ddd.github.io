<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>webp on 的啊达</title>
        <link>https://petrichor.net.cn/tags/webp/</link>
        <description>Recent content in webp on 的啊达</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Sun, 26 Dec 2021 23:00:39 +0800</lastBuildDate><atom:link href="https://petrichor.net.cn/tags/webp/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Webp Bat</title>
        <link>https://petrichor.net.cn/p/webp-bat/</link>
        <pubDate>Sun, 26 Dec 2021 23:00:39 +0800</pubDate>
        
        <guid>https://petrichor.net.cn/p/webp-bat/</guid>
        <description>&lt;h2 id=&#34;遍历指定文件夹下的所有-png-文件并转换为-webp-格式&#34;&gt;遍历&lt;strong&gt;指定文件夹&lt;/strong&gt;下的所有 &lt;code&gt;.png&lt;/code&gt; 文件，并转换为 &lt;code&gt;.webp&lt;/code&gt; 格式&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@echo off
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;for %%a in (D:\Blog\source\assets\*.png)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	do (cwebp.exe -q 80 %%a -o %%~na.webp)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pause
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;遍历当前目录所有子文件夹下的所有-png-文件并转换为-webp-格式&#34;&gt;遍历当前目录&lt;strong&gt;所有子文件夹&lt;/strong&gt;下的所有 &lt;code&gt;.png&lt;/code&gt; 文件，并转换为 &lt;code&gt;.webp&lt;/code&gt; 格式&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@echo off
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;set DIR=&amp;#34;%cd%&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;echo DIR=%DIR%
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;for /d %%d in (*) do (
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    echo %%d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    for %%a in (%%d\*.png) do (cwebp.exe -q 80 %%a -o %%d\%%~na.webp)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pause
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;其中 &lt;strong&gt;&lt;code&gt;%%~na&lt;/code&gt;&lt;/strong&gt; 是取 &lt;strong&gt;&lt;code&gt;%%a&lt;/code&gt;&lt;/strong&gt; 这个文件的&lt;strong&gt;文件名&lt;/strong&gt;（去掉路径且不带后缀）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;本来是用 &lt;code&gt;gulp-webp&lt;/code&gt; 的，结果一直报错而且乱码，找不到原因，只能手动转了（破案了，这个库我下载之后找不到对应的二进制文件，把原先下载的复制过去就好了）。&lt;/p&gt;</description>
        </item>
        
    </channel>
</rss>
